{% load staticfiles %}

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>

{% block head %}

    <head>

        <link rel="shortcut icon" href="{% static 'questionnaire/img/favicon.ico' %}" />

        <!-- ext js -->
        <script language="javascript" type="text/javascript" src="{% static 'mindmaps/js/ext/flashobject.js' %}"></script>

        <!-- custom js -->
        <!-- TODO: MINIFY THESE FILES -->
        <script language="javascript" type="text/javascript" src="{% static 'mindmaps/js/mindmaps.js' %}"></script>
        <script language="javascript" type="text/javascript">
            
            /* redefining javascript indexOf() fn,
             * which doesn't exist in IE 8.0
             */
             if (!Array.prototype.indexOf) {
                 Array.prototype.indexOf = function(obj, start) {
                     for (var i = (start || 0), j = this.length; i < j; i++) {
                         if (this[i] === obj) { return i; }
                     }
                     return -1;
                 }
             }

            /* check if string endswith suffix
             *
             */
             String.prototype.endsWith = function(suffix) {
                return this.indexOf(suffix, this.length - suffix.length) !== -1;
            };

        </script>

        <!-- page js -->
        <!-- (moving this inside the block, so that I can add more includes as needed) -->
        <!-- <script language="javascript"> -->
            {% block scripts %}
                <script language="javascript">
                    // custom js goes here //
                 </script>
            {% endblock %} {# /scripts #}
        <!-- (moved this inside the block, so that I can add more includes as needed) -->
        <!-- </script> -->

        <!-- custom css -->
        <link rel="stylesheet" type="text/css" href="{% static 'mindmaps/css/mindmaps.css' %}" />

        <!-- page css -->
        {% block style %}
            <style type="text/css">
                /* custom css goes here */
            </style>
        {% endblock %} {# /style #}


        <title>
            {% block title %}
                {# custom title goes here #}
            {% endblock %} {# /title #}
        </title>

    </head>

{% endblock %} {# / head #}

<body>

{% block main %}

    <div id="mindmaps">

            {% block header %}
                <!-- default header -->
                <div class="header">
                    <a href="/" title="ES-DOC Questionnaire Home"><img id="logo" src="{% static 'questionnaire/img/esdoc_logo.png' %}"/></a>
                </div> <!-- /.header -->
            {% endblock %} {# /header #}


            {% block content %}
                you forgot to provide content!
            {% endblock %} {# /content #}

            <div class="footer">
                {% block footer %}
                    This page is generated by the CIM MindMap Viewer (v{{mindmaps_version}}),
                    which is part of the <a target="_blank" href="https://github.com/ES-DOC/esdoc-questionnaire">CIM Questionnaire</a> (v{{questionnaire_version}}).
                {% endblock %} {# / footer #}
            </div> <!-- /.footer -->
            
        </div>  <!-- /#mindmaps -->

{% endblock %} {# / main #}
</body>

</html>
